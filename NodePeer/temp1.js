function generateRandomData(){var list = new Array(100000);var max = 10, min = -10;for(var i=0;i<100000;i++){list[i] = Math.random()*(max-min)+min;}return list;}function genrateRandomData1(){var list = [];for(var i=0;i<11;i++){list.push(i);}return list;}var r = rank();var s = size();if(r==0){var list = generateRandomData();var ps = Math.floor(list.length/s);for(var p =1;p<s;p++){var portion = list.slice((p-1)*ps,p*ps);send({to:p,data:portion});}var rootPortion = list.slice((s-1) * ps,list.length);var localSum = rootPortion.reduce((prev,next) => prev+next);recv({from:'all'},(data) =>{localSum += data.reduce((prev,next) => prev+next);print(''+localSum);});}else{recv({from:0},(data) => {var sum = data.reduce((prev,next) => prev+next);send({to:0,data:sum});});}
